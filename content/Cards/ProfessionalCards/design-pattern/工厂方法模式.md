---
title: 工厂方法模式
publish: true
---

## 无工厂

> 这是比 [[工厂总结]] 里还要早一步的引入。就是还没有工厂（Client 和 Coffee 直接打交道）。

首先看如下代码：

我们要做一款叫图灵的手机，一开始，我们没有能力做硬件，所以让客户（可能是组装手机的公司）用别的硬件组装到我们的手机中，因此按照左边这样设计。

但是如果有一天，我们做大做强，要使用自己的硬件了，就不能交由客户组装硬件，而是我们自己组装好硬件再给客户，就像右边这样的。这样改起来就太麻烦了，不仅 TuringPhone 要修改，所有的 Client 里面也都要进行修改。

![[Pasted image 20240809201916.png]]

以上反映了**客户端直接和产品对象交互**的缺点：万一哪一天，我们创建对象的方式发生了调整，那么所有调用这个对象的地方都要进行修改。

那么引出了**工厂类**

## 工厂

这样，用户只需要 new 一个工厂，然后调用工厂的方法即可。造手机再有什么变化，也只需要修改工厂类即可，客户端不发生变化。

![[Pasted image 20240809203329.png]]

再往下就与 [[工厂总结]] 相同了，简单工厂=>工厂方法=>抽象工厂
